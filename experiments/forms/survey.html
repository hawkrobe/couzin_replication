
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../favicon.ico">

    <title>Experiment</title>

    <!-- Bootstrap core CSS -->
    <link href="../dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="theme.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <script type="text/javascript">

      if (typeof(Storage) !== "undefined") {
      localStorage.state = 'complete';
      } 

    </script>    

    <div class="container theme-showcase" role="main"> 

      </br>

      <div id="show">
	
      <div class="progress">
        <div class="progress-bar" role="progressbar" aria-valuenow="95" aria-valuemin="0" aria-valuemax="100" style="width: 95%;"><span class="sr-only">95% Complete</span></div>
      </div>

      <div class="page-header">
        <h3>Optional End Survey (~1-2 minutes)</h3>
      </div>

<div id="latency">
</div>

<div id="my_score">
</div>

<form action="save-to-log.php" method="POST" id="dataform">

<fieldset>

<!-- Text input-->
<div class="form-group">
  <!--<label class="col-md-4 control-label" for="textinput">Text Input</label> -->
  <div class="col-md">
  <span>How would you describe the strategy you used to play this game?</span>  
  <input id="strategy" name="strategy" type="text" class="form-control input-md">
  </div>
  </br>
  <div class="col-md">
  <span>Did the strategy you used change over time? If so, how many times, and how long did it take to reach your final strategy?</span>  
  <input id="change" name="change" type="text" class="form-control input-md">
  </div>
  </br>
  <div class="col-md">
  <span>Do you think other people used the same strategy as you?</span>  
  <input id="others" name="others" type="text" class="form-control input-md">
  </div>
  </br>
  <div class="col-md">
  <span>How do you think you scored relative to other players?</span>  
    <div class="radio">
      <label class="radio-inline" for="radios-0">
	<input type="radio" name="relative" id="relative-0" value="better">
	Better
      </label>
      <label class="radio-inline" for="radios-1">
	<input type="radio" name="relative" id="relative-1" value="worse">
	Worse
      </label>
      <label class="radio-inline" for="radios-2">
	<input type="radio" name="relative" id="relative-2" value="same">
	About the same
      </label>
    </div>
  </div>
</br>
  <div class="col-md">
  <span>Did you notice any problems (such as persistently choppy movement) or other bugs in the game?</span>  
  <input id="bugs" name="bugs" type="text" class="form-control input-md">
  </div>
  </br>
  <div class="col-md">
  <span>Was there anything unclear in the game instructions?</span>  
  <input id="instruct" name="instruct" type="text" class="form-control input-md">
  </div>
  </br>
  <div class="col-md">
  <span>Do you feel the pay was fair?</span>  
  <input id="fair" name="fair" type="text" class="form-control input-md">
  </div>
  </br>
  <div class="col-md">
  <span>Do you have any other comments or feedback?</span>  
  <input id="comments" name="comments" type="text" class="form-control input-md">
  </div>
  </br>
  <input type="hidden" name="message" id="messagedata">
  <input type="hidden" name="date" id="date">
</div>

</fieldset>


</form>

</div>


<center><button type='button' class='btn btn-default' id='submit'>Submit</button></center>

</br>

    <script type="text/javascript">

      function getPar(name) {
        name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
        var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
        results = regex.exec(location.search);
        return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
      }
      id = getPar('id');
      score = getPar('score');
      latency = getPar('latency');

      if(latency == 'true') {
      document.getElementById("latency").innerHTML = '<font color="red"><b><p>You have been removed from the game because of network latency issues.</p></b></font>';
      }

      document.getElementById("my_score").innerHTML = '<b><p>You will receive a total bonus of $' + score + ' from your time in the game, on top of the base reward of $0.75 for completing the HIT.</p></b>';


      document.getElementById("submit").onclick = function () {
      d = new Date();
      
      document.getElementById("messagedata").value = id
      document.getElementById("date").value = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + '-' + d.getHours() + '-' + d.getMinutes() + '-' + d.getSeconds() + '-' + d.getMilliseconds()

      document.getElementById("dataform").submit();
      };
    </script>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="./dist/js/bootstrap.min.js"></script>

  </body>
</html>
